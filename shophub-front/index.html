<!doctype html>
<html lang="az">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ShopHub | Premium Store</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./src/css/style.css" />
    <style>
      /* Sənin app.js-dəki .show klaslarını aktivləşdirmək üçün */
      .backdrop {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(8px);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 1000;
      }
      .backdrop.show {
        display: flex !important;
      }
      #cartDrawer {
        position: fixed;
        top: 0;
        right: 0;
        height: 100%;
        width: 400px;
        max-width: 90%;
        background: #111827;
        transform: translateX(100%);
        transition: transform 0.3s ease;
        z-index: 2000;
        padding: 2rem;
        border-left: 1px solid #374151;
      }
      #cartDrawer.show {
        transform: translateX(0);
      }
      .glass {
        background: rgba(255, 255, 255, 0.03);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.05);
      }
      .hidden {
        display: none !important;
      }
    </style>
  </head>
  <body class="bg-[#0f172a] text-slate-200 min-h-screen font-sans">
    <header
      class="glass sticky top-0 z-[100] border-b border-white/5 backdrop-blur-xl bg-[#0f172a]/80"
    >
      <div
        class="container mx-auto px-4 h-20 flex justify-between items-center"
      >
        <div
          id="navShopBtn"
          class="flex items-center gap-2 cursor-pointer group"
        >
          <div
            class="w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-600/20"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="text-white"
            >
              <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z" />
              <path d="M3 6h18" />
              <path d="M16 10a4 4 0 0 1-8 0" />
            </svg>
          </div>
          <span class="text-xl font-bold tracking-tight text-white uppercase"
            >Shop<span class="text-blue-500">Hub</span></span
          >
        </div>

        <nav class=" md:flex items-center gap-8 text-sm font-medium text-slate-400">
            <button id="navShopBtn2" class="hover:text-white transition-colors">Mağaza</button>
            <button id="navAdminBtn" class=" hover:text-white transition-colors">Admin Panel</button>
        </nav>

        <div class="flex items-center gap-4">
          <button
            id="authBtn"
            class="btn btn-sm bg-white/5 border border-white/10 px-4 py-2 rounded-lg text-xs hover:bg-white/10"
          >
            <span id="authBtnLabel">Giriş / Qeydiyyat</span>
          </button>
          <button
            id="cartBtn"
            class="relative p-2 hover:bg-white/5 rounded-full transition-colors"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <circle cx="8" cy="21" r="1" />
              <circle cx="19" cy="21" r="1" />
              <path
                d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"
              />
            </svg>
            <span
              id="cartBadge"
              class="hidden absolute -top-1 -right-1 bg-blue-600 text-white text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center border-2 border-[#0f172a]"
              >0</span
            >
          </button>
        </div>
      </div>
    </header>

    <main class="container mx-auto px-4 py-10">
      <section id="viewShop" class="space-y-10">
        <div
          class="glass p-12 rounded-[32px] text-center border border-white/5"
        >
          <h1 class="text-4xl md:text-5xl font-black text-white mb-4">
            Müasir Onlayn Alış-veriş
          </h1>
          <p class="text-slate-400 max-w-2xl mx-auto mb-8">
            ShopHub ilə ən son texnoloji məhsulları kəşf edin, səbətə əlavə edin
            və sürətli sifariş yaradın.
          </p>
          <button
            id="ctaBrowse"
            class="bg-blue-600 text-white px-8 py-4 rounded-2xl font-bold shadow-xl shadow-blue-600/30 hover:scale-105 transition-transform"
          >
            Məhsullara Bax
          </button>
        </div>

        <div class="flex flex-col lg:flex-row gap-10">
          <aside class="w-full lg:w-64 space-y-6 shrink-0">
            <div class="glass p-6 rounded-2xl border border-white/5">
              <h3 class="font-bold text-white mb-4">Axtarış</h3>
              <input
                id="searchInput"
                class="w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-blue-500"
                placeholder="Axtar..."
              />

              <h3 class="font-bold text-white mt-8 mb-4">Kateqoriya</h3>
              <select
                id="categorySelect"
                class="w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-sm focus:outline-none"
              ></select>

              <h3 class="font-bold text-white mt-8 mb-4">Qiymət</h3>
              <div class="flex gap-2">
                <input
                  id="minPrice"
                  type="number"
                  class="w-1/2 bg-black/20 border border-white/10 rounded-xl px-3 py-2 text-xs"
                  placeholder="Min"
                />
                <input
                  id="maxPrice"
                  type="number"
                  class="w-1/2 bg-black/20 border border-white/10 rounded-xl px-3 py-2 text-xs"
                  placeholder="Max"
                />
              </div>
            </div>
          </aside>

          <div class="flex-1">
            <div class="flex justify-between items-center mb-8">
              <span
                id="resultCount"
                class="text-sm text-slate-500 uppercase tracking-widest font-semibold"
                >0 məhsul tapıldı</span
              >
              <select
                id="sortSelect"
                class="bg-transparent border-none text-sm text-slate-400 outline-none"
              >
                <option value="featured">Sıralama</option>
                <option value="price_asc">Ucuzdan bahaya</option>
                <option value="price_desc">Bahadan ucuza</option>
              </select>
            </div>

            <div
              id="productsGrid"
              class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"
            ></div>

            <div
              id="emptyState"
              class="hidden glass p-20 text-center rounded-3xl border border-dashed border-white/10"
            >
              <p class="text-slate-500">Heç bir məhsul tapılmadı.</p>
              <button
                id="resetFiltersBtn"
                class="text-blue-500 text-sm mt-4 underline"
              >
                Filtrləri təmizlə
              </button>
            </div>
          </div>
        </div>
      </section>

      <section id="viewAdmin" class="hidden space-y-10">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
          <div class="glass p-6 rounded-3xl border border-white/5">
            <div id="kpiProducts" class="text-3xl font-black text-blue-500">0</div>
            <div class="text-xs uppercase text-slate-500 mt-1 tracking-widest">Məhsul Sayı</div>
          </div>
          <div class="glass p-6 rounded-3xl border border-white/5">
            <div id="adminRoleChip" class="text-xl font-bold text-green-500 uppercase">GUEST</div>
            <div class="text-xs uppercase text-slate-500 mt-1 tracking-widest">Səlahiyyət</div>
          </div>
          <button id="logoutBtn" class="glass p-6 rounded-3xl border border-red-500/20 text-red-500 hover:bg-red-500/10 transition-colors">
            Çıxış Et
          </button>
        </div>

        <div class="glass p-8 rounded-[32px] border border-white/5">
          <h3 class="text-xl font-bold text-white mb-6">Yeni Məhsul Əlavə Et</h3>
          <form id="addProductForm" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            <input type="text" id="admProdName" placeholder="Məhsulun adı" class="bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-sm focus:border-blue-500 outline-none">
            <input type="number" id="admProdPrice" placeholder="Qiymət (AZN)" class="bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-sm focus:border-blue-500 outline-none">
            <input type="number" id="admProdStock" placeholder="Stok sayı" class="bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-sm focus:border-blue-500 outline-none">
            <input type="text" id="admProdCategory" placeholder="Kateqoriya" class="bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-sm focus:border-blue-500 outline-none">
            <input type="text" id="admProdImage" placeholder="Şəkil URL (Cloudinary)" class="bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-sm focus:border-blue-500 outline-none">
            <button type="submit" class="bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors">Yadda Saxla</button>
          </form>
        </div>

        <div class="glass rounded-[32px] border border-white/5 overflow-hidden">
          <table class="w-full text-left text-sm">
            <thead class="bg-white/5 text-slate-400 uppercase text-[10px] tracking-widest">
              <tr>
                <th class="px-6 py-4 font-bold">Məhsul</th>
                <th class="px-6 py-4 font-bold">Qiymət</th>
                <th class="px-6 py-4 font-bold">Stok</th>
                <th class="px-6 py-4 font-bold">Əməliyyat</th>
              </tr>
            </thead>
            <tbody id="adminProductsTable" class="divide-y divide-white/5">
              </tbody>
          </table>
        </div>
      </section>
    </main>

    <div id="drawerBackdrop" class="backdrop z-[1500]"></div>
    <aside id="cartDrawer" class="p-6 flex flex-col">
      <div class="flex justify-between items-center mb-8">
        <h2 class="text-2xl font-bold text-white">
          Səbət
          <span
            id="cartSub"
            class="text-sm font-normal text-slate-500 ml-2"
          ></span>
        </h2>
        <button
          id="closeCartBtn"
          class="p-2 hover:bg-white/10 rounded-full transition-colors"
        >
          &times;
        </button>
      </div>

      <div
        id="cartItems"
        class="flex-1 overflow-y-auto space-y-4 pr-2 custom-scrollbar"
      ></div>

      <div
        id="cartEmpty"
        class="hidden text-center py-20 flex-1 flex flex-col justify-center"
      >
        <p class="text-slate-500 mb-6">Səbətiniz hələ ki boşdur.</p>
        <button
          id="startShoppingBtn"
          class="bg-white/5 border border-white/10 px-6 py-3 rounded-xl hover:bg-white/10"
        >
          Alış-verişə davam et
        </button>
      </div>

      <div class="mt-auto pt-8 border-t border-white/5 space-y-4">
        <div class="flex justify-between text-sm">
          <span class="text-slate-500">Ara cəm:</span
          ><span id="cartSubtotal" class="font-medium">0.00 ₼</span>
        </div>
        <div class="flex justify-between text-xl font-bold text-white">
          <span>Toplam:</span
          ><span id="cartTotal" class="text-blue-500">0.00 ₼</span>
        </div>
        <button
          id="checkoutBtn"
          class="w-full bg-blue-600 text-white py-4 rounded-2xl font-bold shadow-xl shadow-blue-600/20 hover:bg-blue-700"
        >
          Checkout
        </button>
        <button
          id="clearCartBtn"
          class="w-full text-xs text-slate-500 hover:text-red-400 py-2"
        >
          Səbəti təmizlə
        </button>
      </div>
    </aside>

    <div id="authBackdrop" class="backdrop">
      <div class="modal max-w-md p-10 overflow-hidden">
        <div class="flex justify-between items-center mb-8">
          <div class="flex gap-4">
            <button
              id="showLogin"
              class="text-2xl font-bold text-white border-b-2 border-blue-600 pb-1"
            >
              Giriş
            </button>
            <button
              id="showRegister"
              class="text-2xl font-bold text-slate-500 hover:text-white pb-1"
            >
              Qeydiyyat
            </button>
          </div>
          <button
            id="closeAuthModal"
            class="text-slate-400 hover:text-white text-2xl"
          >
            &times;
          </button>
        </div>

        <div id="loginPanel" class="space-y-5">
          <input
            id="loginEmail"
            type="email"
            class="w-full bg-black/20 border border-white/10 rounded-xl px-5 py-4 text-sm focus:outline-none focus:border-blue-500"
            placeholder="E-poçt ünvanınız"
          />
          <input
            id="loginPass"
            type="password"
            class="w-full bg-black/20 border border-white/10 rounded-xl px-5 py-4 text-sm focus:outline-none focus:border-blue-500"
            placeholder="Şifrəniz"
          />
          <button
            id="loginBtn"
            class="w-full bg-blue-600 text-white py-4 rounded-xl font-bold shadow-lg shadow-blue-600/20 hover:bg-blue-700"
          >
            Daxil Ol
          </button>
          <button
            id="openResetBtn"
            class="w-full text-center text-xs text-slate-500 hover:text-white transition-colors"
          >
            Şifrəmi unutmuşam
          </button>
        </div>

        <div id="registerPanel" class="hidden space-y-5">
          <input
            id="regEmail"
            type="email"
            class="w-full bg-black/20 border border-white/10 rounded-xl px-5 py-4 text-sm focus:outline-none focus:border-blue-500"
            placeholder="Yeni E-poçt ünvanı"
          />
          <input
            id="regPass"
            type="password"
            class="w-full bg-black/20 border border-white/10 rounded-xl px-5 py-4 text-sm focus:outline-none focus:border-blue-500"
            placeholder="Yeni Şifrə"
          />
          <button
            id="registerBtn"
            class="w-full bg-green-600 text-white py-4 rounded-xl font-bold shadow-lg shadow-green-600/20 hover:bg-green-700"
          >
            Qeydiyyatı Tamamla
          </button>
        </div>
      </div>
    </div>

    <div
      id="toastWrap"
      class="fixed top-8 right-8 z-[3000] pointer-events-none"
    >
      <div
        id="toast"
        class="hidden glass p-5 rounded-2xl shadow-2xl border border-white/10 flex items-center gap-4 min-w-[320px] pointer-events-auto animate-slide-in"
      >
        <div
          id="toastIcon"
          class="w-10 h-10 bg-blue-500/20 text-blue-500 rounded-full flex items-center justify-center text-xl"
        ></div>
        <div>
          <div id="toastTitle" class="text-sm font-bold text-white"></div>
          <div id="toastMsg" class="text-xs text-slate-400 mt-1"></div>
        </div>
        <button id="toastClose" class="ml-auto text-slate-500 hover:text-white">
          &times;
        </button>
      </div>
    </div>

    <div id="productBackdrop" class="backdrop">
      <div
        class="modal max-w-4xl p-0 overflow-hidden flex flex-col md:flex-row min-h-[500px]"
      >
        <div
          class="md:w-1/2 bg-black/40 p-8 flex flex-col items-center justify-center relative"
        >
          <img
            id="pmImage"
            class="max-w-full h-72 object-contain transition-transform hover:scale-105 duration-500"
            src=""
            alt=""
          />
          <div id="pmThumbs" class="flex gap-3 mt-8"></div>
          <div
            id="pmRatingChip"
            class="absolute top-6 left-6 bg-yellow-500/20 text-yellow-500 px-3 py-1 rounded-full text-xs font-black"
          ></div>
        </div>
        <div class="md:w-1/2 p-10 flex flex-col">
          <button
            id="closeProductModal"
            class="absolute top-6 right-6 text-slate-500 hover:text-white text-3xl"
          >
            &times;
          </button>
          <div
            id="pmMeta"
            class="text-blue-500 text-xs font-bold uppercase tracking-widest mb-2"
          ></div>
          <h2
            id="pmTitle"
            class="text-3xl font-black text-white leading-tight mb-4"
          ></h2>
          <div id="pmPrice" class="text-3xl font-bold text-white mb-2"></div>
          <div
            id="pmStock"
            class="text-xs font-bold text-slate-500 mb-8 uppercase tracking-widest"
          ></div>
          <div class="flex-1">
            <h4
              class="text-xs font-bold text-slate-500 uppercase mb-3 tracking-widest"
            >
              Texniki Özəlliklər
            </h4>
            <ul id="pmSpecs" class="space-y-2 text-sm text-slate-400"></ul>
          </div>
          <button
            id="pmAddBtn"
            class="w-full bg-blue-600 text-white py-5 rounded-2xl font-bold shadow-xl shadow-blue-600/20 hover:bg-blue-700 mt-8"
          >
            Səbətə Əlavə Et
          </button>
        </div>
      </div>
    </div>

    <footer
      class="container mx-auto px-4 py-20 text-center border-t border-white/5 mt-20"
    >
      <p class="text-slate-500 text-sm">
        © <span id="year">2026</span> ShopHub E-Commerce Platform. Müəllif
        hüquqları qorunur.
      </p>
    </footer>

    <script type="module" src="./src/js/app.js"></script>
  </body>
</html>
